{% extends 'layout.html' %}

{% block content %}
<h1>All</h1>
{% if not products and not plans %}
    <h2>No products or plans</h2>
{% else %}
    <ul class="grid">
        {% for p in products %}
            <li class="item">
                <figure>
                    <a href="{{ url_for('shop.product', id=p.id[5:]) }}">
                        <img src="{{ p.images[0] }}" class="thumb" />
                    </a>
                </figure>
                <div class="justify-vertical">
                    <h2>
                        <a href="{{ url_for('shop.product', id=p.id[5:]) }}">
                            {{ p.name }}
                        </a>
                    </h2>
                    <div class="meta">
                        <div>{{ p.caption }}</div>
                    </div>
                </div>
            </li>
        {% endfor %}

        {% for p in plans %}
            <li class="item">
                <figure>
                    <a href="{{ url_for('shop.plan', id=p.id[5:]) }}">
                        <img src="{{ p.metadata.image }}" class="thumb" />
                    </a>
                </figure>
                <div class="justify-vertical">
                    <h2>
                        <a href="{{ url_for('shop.plan', id=p.id[5:]) }}">
                            {{ p.name }}
                        </a>
                    </h2>
                    <div class="meta">
                        <div>{{ p.metadata.caption }}</div>
                    </div>
                </div>
            </li>
        {% endfor %}
    </ul>
{% endif %}
{% endblock %}

